<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI Content Pro</title>
  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- React & ReactDOM -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <!-- Babel for JSX -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="bg-gradient-to-br from-blue-100 to-indigo-200 dark:from-gray-900 dark:to-gray-800">
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;

    const App = () => {
      const [prompt, setPrompt] = useState('');
      const [generatedContent, setGeneratedContent] = useState('');
      const [generatedImage, setGeneratedImage] = useState(null);
      const [isLoading, setIsLoading] = useState(false);
      const [isImageLoading, setIsImageLoading] = useState(false);
      const [isRefining, setIsRefining] = useState(false);
      const [refinementPrompt, setRefinementPrompt] = useState('');
      const [contentType, setContentType] = useState('Social Media Post');
      const [length, setLength] = useState('Medium');
      const [phone, setPhone] = useState('');
      const [email, setEmail] = useState('');
      const [address, setAddress] = useState('');
      const [alertMessage, setAlertMessage] = useState(null);

      useEffect(() => {
        const savedPhone = localStorage.getItem('phone');
        const savedEmail = localStorage.getItem('email');
        const savedAddress = localStorage.getItem('address');
        if(savedPhone) setPhone(savedPhone);
        if(savedEmail) setEmail(savedEmail);
        if(savedAddress) setAddress(savedAddress);
      }, []);

      useEffect(() => {
        localStorage.setItem('phone', phone);
        localStorage.setItem('email', email);
        localStorage.setItem('address', address);
      }, [phone,email,address]);

      const handleGenerateContent = async () => {
        if(!prompt.trim()){ setAlertMessage('Enter a prompt!'); return;}
        setIsLoading(true); setGeneratedContent(''); setGeneratedImage(null);
        // NOTE: API calls removed for live demo, you can add your API keys here.
        setTimeout(()=> { setGeneratedContent("This is a demo generated content based on your prompt."); setIsLoading(false); }, 1000);
      };

      const handleGenerateImage = async () => {
        if(!prompt.trim()){ setAlertMessage('Enter a prompt!'); return;}
        setIsImageLoading(true); setGeneratedContent(''); setGeneratedImage(null);
        setTimeout(()=> { setGeneratedImage("https://via.placeholder.com/400x300.png?text=Generated+Image"); setIsImageLoading(false); }, 1000);
      };

      const handleRefineContent = () => {
        if(!generatedContent.trim() || !refinementPrompt.trim()){ setAlertMessage('Provide text and refinement!'); return;}
        setIsRefining(true);
        setTimeout(()=> { setGeneratedContent(generatedContent + " (Refined)"); setIsRefining(false); }, 1000);
      };

      const handleCopyContent = () => {
        navigator.clipboard.writeText(generatedContent);
        setAlertMessage("Copied to clipboard!");
      };

      const contentTypes = ['General', 'Blog Post', 'Email', 'Social Media Post', 'Product Description', 'Article'];
      const lengths = ['Short', 'Medium', 'Long'];

      return (
        <div className="min-h-screen flex flex-col items-center justify-center p-4 font-sans">
          {alertMessage && (
            <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
              <div className="bg-white dark:bg-gray-800 p-8 rounded-xl shadow-2xl flex flex-col items-center gap-4 border border-gray-300 dark:border-gray-600">
                <p>{alertMessage}</p>
                <button onClick={()=>setAlertMessage(null)} className="py-2 px-4 bg-blue-600 text-white rounded">OK</button>
              </div>
            </div>
          )}

          <div className="w-full max-w-5xl p-6 bg-white dark:bg-gray-800 rounded-3xl shadow-2xl border flex flex-col md:flex-row gap-8">
            <div className="flex-1 flex flex-col gap-4">
              <h1 className="text-3xl font-bold text-center text-blue-700 dark:text-blue-400">AI Content Pro</h1>
              <textarea value={prompt} onChange={e=>setPrompt(e.target.value)} rows="4" placeholder="Enter prompt..." className="w-full p-3 border rounded"/>
              <select value={contentType} onChange={e=>setContentType(e.target.value)} className="w-full p-2 border rounded">
                {contentTypes.map(ct=><option key={ct}>{ct}</option>)}
              </select>
              <select value={length} onChange={e=>setLength(e.target.value)} className="w-full p-2 border rounded">
                {lengths.map(l=> <option key={l}>{l}</option>)}
              </select>
              <input value={phone} onChange={e=>setPhone(e.target.value)} placeholder="Phone" className="w-full p-2 border rounded"/>
              <input value={email} onChange={e=>setEmail(e.target.value)} placeholder="Email" className="w-full p-2 border rounded"/>
              <input value={address} onChange={e=>setAddress(e.target.value)} placeholder="Address" className="w-full p-2 border rounded"/>
              <div className="flex gap-2">
                <button onClick={handleGenerateContent} className="flex-1 bg-blue-600 text-white p-2 rounded">{isLoading ? 'Generating...' : 'Generate Text'}</button>
                <button onClick={handleGenerateImage} className="flex-1 bg-purple-600 text-white p-2 rounded">{isImageLoading ? 'Generating...' : 'Generate Image'}</button>
              </div>
            </div>

            <div className="flex-1 flex flex-col gap-4">
              {generatedImage && <img src={generatedImage} alt="Generated" className="w-full rounded"/>}
              {generatedContent && (
                <div className="bg-gray-100 dark:bg-gray-700 p-4 rounded">
                  <pre>{generatedContent}</pre>
                  <button onClick={handleCopyContent} className="mt-2 bg-green-600 text-white p-2 rounded">Copy</button>
                </div>
              )}
              {generatedContent && (
                <>
                  <textarea value={refinementPrompt} onChange={e=>setRefinementPrompt(e.target.value)} placeholder="Refine prompt" className="w-full p-2 border rounded"/>
                  <button onClick={handleRefineContent} className="bg-yellow-600 text-white p-2 rounded">{isRefining ? 'Refining...' : 'Refine'}</button>
                </>
              )}
            </div>
          </div>
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>
